## 团队代码规范与约定

### Git Commit 日志规范

#### Commit message 的作用

+ 提供更多的历史信息，方便快速浏览。
+ 可以过滤某些commit（比如文档改动），便于快速查找信息。
+ 可以直接从commit生成Change log

#### Commit message 的格式

因为项目改动相对没那么复杂，这里commit日志就只写header部分，为一行

Header包括三个字段：`type`、`scope`和`subject`。

1. type 类型

   `type`用于说明 commit 的类别，只允许使用下面6个标识。

   > - feat			:		新功能（feature）
   > - fix                    :               修补bug
   > - style               ：             格式（不影响代码运行的变动）
   > - refactor         ：             重构（即不是新增功能，也不是修改bug的代码变动）
   > - chore             ：             构建过程或辅助工具、配置、依赖的变动
   > - update          ：              除以上五种之外的变动 如文档

2. scope 范围

   `scope`说明这次改动影响的范围，比如前端、后端、数据层、控制层、视图层等等，视项目不同而不同。

   实际使用可以使用变动涉及的文件夹名字或者文件名称，只要能说明改的范围就行

3. subject 目的

   `subject`表示这次改动具体改了什么，**必须填写清楚！！！**

具体的格式：  `type(scope): subject`   冒号后有一个空格 比如 `fix(index): 修复主页获取统计信息时出错`



### 代码编写规范

#### 适用于全局（重要）

1. 使用四个空格代替制表符，禁用制表符
2. 大括号不换行
3. 编码使用无 `BOM` 的 `UTF-8` 编码。

#### 适用于html

1. 引用cdn资源时省略url地址中的 http: 或 https: 的部分
2. html原生标签只写小写
   + 对于自定义标签，如Vue的组件标签，一律用**下划线命名法**，如`<my-child></my-child>`，这是因为html标签没有区分大小写的能力，使用下划线命名法之后，Vue会自动转化组件名为驼峰命名法的`myChild`，去关联与`myChild`同名的子组件
3. 使用语义化的html标签，根据用途来选择标签。不要一味地使用`<div></div>`
4. 用`<meta>`声明文件编码等等，尽可能详细
5. 省略`<style>`和`<script>`的type属性
6. 对于Vue代码
   + 使用`{{}}`语法时，变量和括号间有空格，如`{{ numOfStudents }}`
   + 在模板中绑定表达式是非常便利的，但是对于复杂逻辑，应当使用**计算属性**

#### 适用于CSS和LESS

1. CSS类名使用**连字符命名法**，如`head-box`

2. 尽量少用多重选择器或后代选择器，同理避免LESS出现嵌套

3. 尽可能使用类选择器来代替id选择器

4. 尽可能使用组合属性：css中提供了不少的能进行组合属性连写的地方，比如font,margin,padding等

5. 如果css属性的值为0，则后面不要带上单位

6. 省略小数前面的0，比如 0.8 可以写成 .8

7. 在URI类型的值里不要加上引号。比如 `@import url(//www.google.com/css/go.css)`

8. 每个css属性声明后都要使用一个分号，属性的**冒号后面使用一个空格** 选择器后面的**大括号不换行**  在每一个css规则之间应该空一行 如:

   ```css
   h3 {
     font-weight: bold;
   }

   h4 {
     width: 70%;
   }
   ```

#### 适用于js

1. 变量声明统一使用`let`和`const`来声明，避免使用`var`，并且变量声明都放在代码块的头部，这样可以避免*变量提升*导致的bug

2. 在js文件首部加`'use strict'`启用严格模式，在文件结尾处，保留一个空行。

3. 变量命名采用**驼峰命名法**

4. 表示区块起首的大括号，**不要另起一行**

5. 不要省略js语句句末的分号

6. **使用 === 代替 ==**

7. **不要省略各种块的大括号，比如if语句和for语句，即使语句体只有一句** 如：

   ```js
   if (a === b) {
     doSomeThing();
   } else {
     doSomeThingElse();
   }
   ```

8. 尽可能拆分语句，这样对避免语句歧义和加注释都有好处 如：

   ```js
   let numOfTeachers; // 老师的数量
   let numOfStudents; // 学生的数量
   // 而不是 let numOfTeachers,numOfStudents;
   ```

9. **优先使用单引号**而不是双引号来包裹字符串，更好的，可以使用ES6的*模板字符串语法*，更加方便和语义化

10. 避免使用全局变量——如果不得不使用，用大写字母表示变量名，比如UPPER_CASE

11. **关于空格**

    + 二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。如`a += !b `
    + 在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。
    + , 和 ; 前不允许有空格。
    + 调用函数的时候，函数名与左括号之间没有空格
    + 函数名与参数序列之间，没有空格
    + 所有其他语法元素与左括号之间，都有一个空格
    + 在单行声明的数组与对象、函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，() 和 [] 内紧贴括号部分不允许有空格。

12. 关于注释

    + 单行注释`//` 后跟一个空格，避免使用`/*...*/` 这样的多行注释
    + **(重要）**在文件首部，和函数声明前使用 `/**...*/` 形式的块注释（建议使用sublime的DocBlockr插件）

